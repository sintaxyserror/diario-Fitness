<main class="container my-5">
  <h1 class="mb-4 text-center">Lista de Usuarios</h1>
  <div class="mb-3 row justify-content-center">
    <div class="col-md-6">
      <input type="text" class="form-control" placeholder="Buscar por nombre, apellido o email" [(ngModel)]="searchTerm">
    </div>
  </div>
  @if (loading) {
    <div>Cargando usuarios...</div>
  }
  @if (error) {
    <div class="alert alert-danger">{{ error }}</div>
  }
  @if (!loading && usuariosFiltrados.length > 0) {
    <ul class="list-group">
      @for (usuario of usuariosFiltrados; track usuario.id) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ usuario.nombre }} {{ usuario.apellido }}</strong><br>
            <span>Email:</span> {{ usuario.email }}<br>
            <span>Rol:</span> {{ usuario.rol }}
          </div>
          <button class="btn btn-danger btn-sm ms-3" (click)="eliminarUsuario(usuario.id)">
            Eliminar
          </button>
        </li>
      }
    </ul>
  }
  @if (!loading && usuariosFiltrados.length === 0) {
    <div class="text-center mt-4">
      No hay usuarios registrados.
    </div>
  }
</main>
